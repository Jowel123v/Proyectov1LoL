{% extends "base.html" %}
{% block title %}Campeones · LoL Worlds{% endblock %}

{% block content %}
<h1>Campeones Worlds 2024</h1>

<!-- Estadísticas principales -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-stretch mb-6">
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Campeones Totales</h3>
        <p class="text-gray-400 text-sm">{{ stats.champions }} campeones registrados</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Promedio Pick Rate</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_pick_rate }}%</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Promedio Win Rate</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_win_rate }}%</p>
    </div>
</div>

<!-- Filtro por tasa de victorias -->
<form method="get" class="filters mb-6">
    <label>Filtrar por tasa de victorias mínima:</label>
    <input type="number" name="win_rate" value="{{ win_rate or '' }}" placeholder="Tasa de victorias (%)" />
    <button type="submit">Filtrar</button>
</form>

<!-- Tabla de Campeones -->
<table class="min-w-full text-sm">
    <thead>
        <tr class="table-header text-xs text-gray-400">
            <th class="py-2 px-3 text-left">Nombre</th>
            <th class="py-2 px-3 text-left">Pick Rate</th>
            <th class="py-2 px-3 text-left">Ban Rate</th>
            <th class="py-2 px-3 text-left">Win Rate</th>
            <th class="py-2 px-3 text-left">KDA</th>
        </tr>
    </thead>
    <tbody>
        {% for champion in campeones %}
            <tr class="border-b border-gray-800">
                <td class="py-2 px-3 font-semibold text-white">{{ champion.name }}</td>
                <td class="py-2 px-3">{{ "%.1f"|format(champion.pick_rate) }}%</td>
                <td class="py-2 px-3">{{ "%.1f"|format(champion.ban_rate) }}%</td>
                <td class="py-2 px-3">{{ "%.1f"|format(champion.win_rate) }}%</td>
                <td class="py-2 px-3">{{ "%.2f"|format(champion.kda) }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
