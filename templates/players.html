{% extends "base.html" %}
{% block title %}Jugadores · LoL Worlds{% endblock %}

{% block content %}
<h1>Jugadores Worlds 2024</h1>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-stretch mb-6">
    <!-- Estadísticas principales -->
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Jugadores Totales</h3>
        <p class="text-gray-400 text-sm">{{ stats.players }} jugadores registrados</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Promedio Win Rate</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_win_rate }}%</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Promedio KDA</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_kda }}</p>
    </div>
</div>

<!-- Filtro por rol -->
<form method="get" class="filters mb-6">
    <label>Filtrar por rol:</label>
    <input type="text" name="role" value="{{ role or '' }}" placeholder="TOP, JNG, MID, ADC, SUP" />
    <button type="submit">Filtrar</button>
</form>

<!-- Tabla de Jugadores -->
<table class="min-w-full text-sm">
    <thead>
        <tr class="table-header text-xs text-gray-400">
            <th class="py-2 px-3 text-left">Nickname</th>
            <th class="py-2 px-3 text-left">Nombre real</th>
            <th class="py-2 px-3 text-left">Rol</th>
            <th class="py-2 px-3 text-left">País</th>
            <th class="py-2 px-3 text-left">Equipo</th>
        </tr>
    </thead>
    <tbody>
        {% for player in jugadores %}
            <tr class="border-b border-gray-800">
                <td class="py-2 px-3 font-semibold text-white">{{ player.nickname }}</td>
                <td class="py-2 px-3 text-gray-300">{{ player.real_name or "-" }}</td>
                <td class="py-2 px-3 text-gray-300">{{ player.role }}</td>
                <td class="py-2 px-3 text-gray-300">{{ player.country or "-" }}</td>
                <td class="py-2 px-3 text-gray-300">{{ player.team_id }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
