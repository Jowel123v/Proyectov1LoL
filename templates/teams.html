{% extends "base.html" %}
{% block title %}Equipos · LoL Worlds{% endblock %}

{% block content %}
<h1>Equipos Worlds 2024</h1>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-stretch mb-6">
    <!-- Estadísticas principales -->
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Equipos Totales</h3>
        <p class="text-gray-400 text-sm">{{ stats.teams }} equipos registrados</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Promedio Win Rate</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_win_rate }}%</p>
    </div>
    <div class="bg-darker border border-gray-800 rounded-xl p-6">
        <h3 class="text-xl font-bold text-white">Duración Promedio</h3>
        <p class="text-gray-400 text-sm">{{ stats.avg_duration }}</p>
    </div>
</div>

<!-- Filtro por región -->
<form method="get" class="filters mb-6">
    <label>Filtrar por región:</label>
    <input type="text" name="region" value="{{ region or '' }}" placeholder="LCK, LPL, LEC..." />
    <button type="submit">Filtrar</button>
</form>

<!-- Tabla de Equipos -->
<table class="min-w-full text-sm">
    <thead>
        <tr class="table-header text-xs text-gray-400">
            <th class="py-2 px-3 text-left">Equipo</th>
            <th class="py-2 px-3 text-left">Región</th>
            <th class="py-2 px-3 text-left">W/L</th>
            <th class="py-2 px-3 text-left">Win Rate</th>
            <th class="py-2 px-3 text-left">Duración Prom.</th>
        </tr>
    </thead>
    <tbody>
        {% for team in equipos %}
            <tr class="border-b border-gray-800">
                <td class="py-2 px-3 font-semibold text-white">{{ team.name }}</td>
                <td class="py-2 px-3 text-gray-300">{{ team.region }}</td>
                <td class="py-2 px-3">
                    <span class="text-secondary font-bold">{{ team.wins }}W</span>
                    <span class="text-gray-500"> / </span>
                    <span class="text-red-400 font-bold">{{ team.losses }}L</span>
                </td>
                <td class="py-2 px-3 text-gray-300">{{ "%.1f"|format(team.win_rate) }}%</td>
                <td class="py-2 px-3 text-gray-300">{{ team.avg_duration }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
